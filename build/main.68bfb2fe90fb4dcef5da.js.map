{"version":3,"sources":["webpack:///./templates/country-info.hbs","webpack:///./js/fetchCountries.js","webpack:///./js/notification.js","webpack:///./index.js","webpack:///./templates/list-countries.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","document","querySelector","fetchCountries","searchQuery","fetch","defaultModules","set","PNotifyMobile","defaults","delay","width","myStack","Stack","modal","dir1","firstpos1","spacing1","push","maxOpen","Infinity","showError","error","title","text","sticker","stack","refs","mainBox","input","listCountries","country","addEventListener","debounce","this","value","trim","then","json","countries","Array","isArray","isValid","quantity","length","markup","temaplateList","remove","insertAdjacentHTML","createlListMarkup","countryInfo","createMarkup","dataСheck","catch"],"mappings":"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","file":"main.68bfb2fe90fb4dcef5da.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<article class=\\\"country js-country\\\">\\r\\n    <h1 class=\\\"country-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n    <div class=\\\"country-box\\\">\\r\\n        <ul class=\\\"list country-list-info\\\">\\r\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Capital:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</li>\\r\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Population:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</li>\\r\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Languages:</span>\\r\\n                <ul class=\\\"country-sublist\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":20},\"end\":{\"line\":12,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <img class=\\\"flag-image\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt='Flag of \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"' width=\\\"500px\\\" height=\\\"auto\\\">\\r\\n    </div>\\r\\n</article>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li class=\\\"sublist-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":19,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import { error } from '@pnotify/core';\r\n// import '@pnotify/core/dist/PNotify.css';\r\n// import '@pnotify/core/dist/BrightTheme.css';\r\n\r\nconst input = document.querySelector('.contryName');\r\nconst ul = document.querySelector('.js-infoContrys');\r\n\r\nfunction fetchCountries(searchQuery) {\r\n  let url = `https://restcountries.eu/rest/v2/name/${searchQuery}`;\r\n\r\n  return fetch(url);   \r\n}\r\n\r\nexport default fetchCountries;\r\n","import { error, defaultModules, Stack } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport { defaults } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\ndefaults.delay = 3500;\r\ndefaults.width = '380px';\r\n\r\nconst myStack = new Stack({\r\n  modal: false,\r\n  dir1: 'left',\r\n  firstpos1: 0,\r\n  spacing1: 0,\r\n  push: 'right',\r\n  maxOpen: Infinity,\r\n});\r\n\r\nconst showMessage = () => {\r\n  error({\r\n    title: 'Too many matches found. Please enter a more specific query!',\r\n    sticker: false,\r\n    stack: myStack,\r\n  });\r\n};\r\n\r\nconst showError = () => {\r\n  error({\r\n    title: 'Error 404',\r\n    text: 'Country with this name was not found. Please try again.',\r\n    sticker: false,\r\n    stack: myStack,\r\n  });\r\n};\r\n\r\nexport { showMessage, showError };","import './scss/main.scss';\r\nimport debounce from 'lodash.debounce';\r\nimport temaplateList from './templates/list-countries.hbs';\r\nimport countryInfo from './templates/country-info.hbs';\r\nimport fetchCountries from './js/fetchCountries.js';\r\nimport { showMessage, showError } from './js/notification.js';\r\n\r\nconst refs = {\r\n  mainBox: document.querySelector('.js-container'),\r\n  input: document.querySelector('.js-input'),\r\n  listCountries: null,\r\n  country: null,\r\n};\r\n\r\nrefs.input.addEventListener('input', debounce(fetchHandler, 500));\r\n\r\nfunction fetchHandler() {\r\n  if (this.value === '') {\r\n    return;\r\n  }\r\n\r\n  const queryResult = fetchCountries(this.value.trim());\r\n\r\n  queryResult\r\n    .then(data => data.json())\r\n    .then(countries => dataСheck(countries))\r\n    .catch(() => showError());\r\n}\r\n\r\nfunction dataСheck(countries) {\r\n  const result = isValid(countries);\r\n\r\n  if (!result) {\r\n    showError();\r\n    return;\r\n  }\r\n\r\n  const quantity = countries.length;\r\n\r\n  if (quantity > 10) {\r\n    showMessage();\r\n  } else if (quantity >= 2 && quantity <= 10) {\r\n    createlListMarkup(countries);\r\n  } else if (quantity === 1) {\r\n    createMarkup(countries);\r\n  }\r\n}\r\n\r\nfunction createlListMarkup(countries) {\r\n  const markup = temaplateList(countries);\r\n\r\n  if (refs.listCountries !== null) {\r\n    refs.listCountries.remove();\r\n    refs.listCountries = null;\r\n  } else if (refs.country !== null) {\r\n    refs.country.remove();\r\n    refs.country = null;\r\n  }\r\n\r\n  refs.mainBox.insertAdjacentHTML('beforeend', markup);\r\n  refs.listCountries = document.querySelector('.container .js-list');\r\n}\r\n\r\nfunction createMarkup(country) {\r\n  const markup = countryInfo(country);\r\n\r\n  if (refs.country !== null) {\r\n    refs.country.remove();\r\n    refs.country = null;\r\n  } else if (refs.listCountries !== null) {\r\n    refs.listCountries.remove();\r\n    refs.listCountries = null;\r\n  }\r\n\r\n  refs.mainBox.insertAdjacentHTML('beforeend', markup);\r\n  refs.country = document.querySelector('.container .js-country');\r\n}\r\n\r\nfunction isValid(value) {\r\n  if (Array.isArray(value)) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"list-countries-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country-box\\\">\\r\\n    <ul class=\\\"list-countries js-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":5,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}